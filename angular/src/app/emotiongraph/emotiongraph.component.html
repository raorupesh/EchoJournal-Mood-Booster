<div class="emotion-tracking">
  <div class="d-flex justify-content-between align-items-center">
    <h3 class="text-success mb-1">Emotion Tracking</h3>
    <button class="btn btn-outline-primary btn-md d-inline-flex align-items-center" (click)="goToMoodEchoHistory()">
      <i class="bi bi-journal-text me-2"></i>
      View All
    </button>
  </div>
  <p class="text-muted small mb-4">Your emotional journey over time</p>
  
  <div *ngIf="isLoading" class="text-center py-4">
    <div class="spinner-border text-success" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-2">Loading your emotion data...</p>
  </div>
  
  <div *ngIf="errorMessage && !isLoading" class="alert alert-warning">
    {{ errorMessage }}
  </div>

  <div class="chart-container" *ngIf="!isLoading" style="position: relative; height: 300px;">
    <canvas id="emotionChart" #emotionChart></canvas>
  </div>
</div>
